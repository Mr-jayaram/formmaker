<!DOCTYPE html>
<html>
<head>
  <title>Simple Translator Example</title>

  <!-- Google Translate Script -->
  <script type="text/javascript" 
    src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
  </script>

  <style>
    /* Hide Google top frame */
    .goog-te-banner-frame { display:none !important; }
    body { top:0 !important; }
  </style>
</head>

<body>

<!-- Language Buttons -->
<div>
  <button onclick="changeLang('en')">English</button>
  <button onclick="changeLang('ar')">Arabic</button>
</div>

<!-- Content -->
<h1 id="title">Welcome to Our Company</h1>
<p id="subtitle">We provide high-quality services.</p>

<!-- Hidden Google Translate Dropdown -->
<div id="google_translate_element" style="display:none"></div>

<script>
/* --- CUSTOM ARABIC TEXT --- */
const customArabic = {
    title: "مرحباً بكم في شركتنا",
    subtitle: "نحن نقدم خدمات عالية الجودة."
};

const originalText = {};

/* Google Translate Init */
function googleTranslateElementInit() {
    new google.translate.TranslateElement(
        { pageLanguage: "en", includedLanguages: "en,ar", autoDisplay:false },
        "google_translate_element"
    );

    // Wait for dropdown to appear
    setTimeout(() => {
        let combo = document.querySelector(".goog-te-combo");

        if (combo) {
            combo.addEventListener("change", () => {
                if (combo.value === "ar") {
                    setTimeout(applyArabic, 50);
                } else {
                    revertText();
                }
            });
        }
    }, 800);
}

/* Apply custom Arabic text */
function applyArabic() {
    ["title", "subtitle"].forEach(id => {
        let el = document.getElementById(id);
        if (el) {
            if (!originalText[id]) originalText[id] = el.innerHTML;
            el.innerHTML = customArabic[id];
        }
    });

    document.body.style.direction = "rtl";
}

/* Revert to original English */
function revertText() {
    Object.keys(originalText).forEach(id => {
        let el = document.getElementById(id);
        if (el) el.innerHTML = originalText[id];
    });

    document.body.style.direction = "ltr";
}

/* Change language programmatically */
function changeLang(lang) {
    let combo = document.querySelector(".goog-te-combo");
    if (combo) {
        combo.value = lang;
        combo.dispatchEvent(new Event("change"));
    }
}
</script>

</body>
</html>
